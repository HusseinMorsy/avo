<div class="w-full">
  <table class="w-full px-4 overflow-hidden" :class="{'rounded-b-xl': totalPages === 1}">
    <thead v-if="hasFields" class="bg-gray-200 border-t border-b border-gray-500 pb-1">
      <th>
        <!-- Select cell -->
      </th>
      <% fields.each_with_index do |field, index| %>
        <th class="text-left uppercase px-3 py-2">
          <div class="flex items-center text-gray-700 leading-tight text-xs font-semibold<%= 'cursor-pointer' if 'sortable' %>" @click="tryAndSort">
            <%= field[:name] %>
            <%#=
            <component :is="sortComponent"
              v-if="sortable"
              class="inline-block fill-current text-gray-500 relative leading-none min-w-4 min-h-full ml-1 h-4"
            />
             %>
          </div>
        </th>
      <% end %>

      <th class="w-24">
        <!-- Controls cell -->
      </th>
    </thead>
    <tbody>
      <% resources.each_with_index do |resource, index| %>
        <% cache resource[:model] do %>
          <%= render partial: 'table_row', locals: {resource: resource, index: index} %>
        <% end %>
      <% end %>
    </tbody>
  </table>
</div>
